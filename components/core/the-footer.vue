<script setup lang="ts">
import { useAppStore } from '~/stores/apps';

const appStore = useAppStore();

const links = computed(() => {
	return [appStore.logo, appStore.style];
});
const { reachGoal } = useYandexMetrika();

function up() {
	window.scrollTo({
		top: 0,
		behavior: 'smooth'
	});
}
</script>

<template>
	<footer class="footer">
		<svg class="footer-logo" viewBox="0 0 65 44" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path
				d="M7.84947 39.1159C4.55761 39.1159 1.5662 37.0698 0.65179 33.8886C0.103146 31.9877 0.377468 29.9681 1.40944 28.2124C2.42835 26.4832 4.08735 25.2028 6.05985 24.622C8.03236 24.0411 10.1094 24.226 11.899 25.1368C13.7017 26.0608 15.008 27.6184 15.5436 29.5193C16.667 33.4266 14.2373 37.5847 10.1355 38.7859C9.37784 38.9971 8.60713 39.1159 7.84947 39.1159ZM8.35893 26.1928C7.7711 26.1928 7.1702 26.272 6.58237 26.4568C5.06707 26.9056 3.79996 27.8692 3.02925 29.1893C2.25853 30.4829 2.06259 31.9745 2.46754 33.3606C3.30357 36.2514 6.50399 37.8751 9.61297 36.951C12.722 36.0402 14.5769 32.9382 13.7409 30.0473C13.3359 28.6613 12.3823 27.5128 11.0499 26.8396C10.2139 26.404 9.29946 26.1928 8.35893 26.1928Z"
				fill="white"
			/>
			<path
				d="M32.629 43.9999C32.1065 43.9999 31.6885 43.5775 31.6885 43.0495V32.9908C31.6885 28.2651 35.4898 24.4238 40.1663 24.4238C42.792 24.4238 45.3915 25.7439 46.9591 27.8691C48.3045 29.6907 48.6964 31.8556 48.0694 33.9808C47.3248 36.5153 45.6266 37.7693 44.3334 38.3765C42.4001 39.2874 40.0226 39.3798 38.2591 38.6142C36.5871 37.8881 35.5551 36.5681 35.4245 35.0105C35.2938 33.4924 36.0384 32.014 37.3447 31.156C38.9123 30.1264 40.9632 30.166 42.9618 31.2748C43.419 31.5256 43.5888 32.1064 43.3406 32.5684C43.0924 33.0304 42.5177 33.202 42.0605 32.9512C40.6888 32.1856 39.3434 32.1196 38.3767 32.7532C37.6582 33.2284 37.2402 34.0468 37.3055 34.8521C37.3839 35.7101 37.9848 36.4229 39.0037 36.8717C40.0618 37.3337 41.8645 37.4393 43.5366 36.6605C44.4771 36.2117 45.7181 35.2877 46.2667 33.4396C46.8415 31.4728 46.1492 29.9416 45.4568 29.0043C44.255 27.3807 42.1911 26.3247 40.1794 26.3247C36.5479 26.3247 33.5826 29.3079 33.5826 32.9908V43.0495C33.5695 43.5775 33.1515 43.9999 32.629 43.9999Z"
				fill="white"
			/>
			<path
				d="M32.6305 44.0001C32.108 44.0001 31.69 43.5777 31.69 43.0497V32.991C31.69 29.3214 28.7378 26.3249 25.0932 26.3249C23.0162 26.3249 21.0959 27.2357 19.9725 28.7669C18.9928 30.1002 18.7185 31.7634 19.2149 33.4398C19.7766 35.3407 21.0045 36.2515 21.932 36.7003C23.4995 37.4395 25.2369 37.3207 26.2558 36.8851C27.327 36.4231 27.9409 35.6443 27.9932 34.7071C28.0454 33.8491 27.6013 33.0306 26.8828 32.6214C25.9684 32.0934 24.7666 32.2914 23.4995 33.1494C23.0684 33.4398 22.4806 33.321 22.1932 32.8854C21.9058 32.4498 22.0234 31.8558 22.4545 31.5654C24.3225 30.2982 26.2819 30.0738 27.8233 30.9582C29.1558 31.7238 29.9657 33.2418 29.8873 34.8127C29.7959 36.4891 28.7508 37.8883 27.0265 38.6408C25.3153 39.3932 23.0031 39.314 21.1612 38.4428C19.8811 37.8355 18.196 36.5815 17.4383 34.0075C16.7721 31.737 17.1509 29.4798 18.4964 27.6581C19.9725 25.6517 22.4545 24.4504 25.1193 24.4504C29.7959 24.4504 33.5972 28.2917 33.5972 33.0174V43.0761C33.571 43.5777 33.153 44.0001 32.6305 44.0001Z"
				fill="white"
			/>
			<path
				d="M57.2408 39.0762C52.9693 39.0762 49.4814 35.7629 49.4814 31.6972C49.4814 27.6315 52.9562 24.3182 57.2408 24.3182C61.5255 24.3182 65.0002 27.6315 65.0002 31.6972C65.0002 35.7629 61.5124 39.0762 57.2408 39.0762ZM57.2408 26.2323C54.0012 26.2323 51.3756 28.6875 51.3756 31.6972C51.3756 34.7069 54.0143 37.1621 57.2408 37.1621C60.4674 37.1621 63.1061 34.7069 63.1061 31.6972C63.1061 28.6875 60.4804 26.2323 57.2408 26.2323Z"
				fill="white"
			/>
			<path
				d="M51.7011 36.5153C51.3223 36.5153 50.9696 36.2777 50.8259 35.9081C50.0029 33.7168 50.7606 31.75 52.9552 30.3507C54.4705 29.3871 56.652 29.0571 58.5069 29.5191C59.5911 29.7831 60.3749 30.2847 60.7668 30.9711C61.4199 32.1064 61.1979 33.2944 60.2051 34.0072C59.1601 34.7596 57.3704 34.7728 56.3777 33.5848C56.038 33.1888 56.0903 32.5816 56.4822 32.2384C56.874 31.8952 57.4749 31.948 57.8146 32.344C58.102 32.6872 58.7812 32.6872 59.1209 32.4496C59.2384 32.3704 59.356 32.2912 59.1339 31.9216C59.0556 31.7896 58.742 31.5256 58.0497 31.354C56.9524 31.0767 55.202 31.1559 53.9479 31.948C52.0669 33.136 52.2628 34.3768 52.5763 35.2084C52.7592 35.6969 52.5241 36.2513 52.0277 36.4361C51.9232 36.5021 51.8056 36.5153 51.7011 36.5153Z"
				fill="white"
			/>
			<path
				d="M13.2702 36.5154C13.1527 36.5154 13.0482 36.489 12.9306 36.4494C12.4473 36.2646 12.1991 35.7102 12.382 35.2217C12.6955 34.3901 12.8914 33.1493 11.0104 31.9613C9.75631 31.1693 8.00588 31.09 6.90859 31.3673C6.21626 31.5389 5.90275 31.8029 5.82437 31.9349C5.61536 32.2913 5.73293 32.3837 5.83743 32.4629C6.17707 32.7137 6.85634 32.7137 7.14373 32.3573C7.48336 31.9613 8.07119 31.9085 8.47615 32.2517C8.86803 32.5949 8.92029 33.1889 8.58065 33.5981C7.58787 34.7861 5.79824 34.7729 4.75321 34.0205C3.76042 33.3077 3.53835 32.1197 4.1915 30.9844C4.58339 30.298 5.36716 29.7964 6.45139 29.5324C8.30633 29.0704 10.4748 29.4004 12.0031 30.364C14.1977 31.7633 14.9554 33.7301 14.1324 35.9214C14.0148 36.291 13.6491 36.5154 13.2702 36.5154Z"
				fill="white"
			/>
			<path
				d="M6.08702 14.6689C5.85188 14.6689 5.60369 14.5765 5.42081 14.3917C5.05504 14.0221 5.05504 13.4149 5.42081 13.0453L17.8437 0.491806C18.2094 0.122197 18.8103 0.122197 19.1761 0.491806C19.5419 0.861415 19.5419 1.46863 19.1761 1.83824L6.75323 14.3917C6.57035 14.5765 6.32215 14.6689 6.08702 14.6689Z"
				fill="white"
			/>
			<path
				d="M18.9659 14.6689L16.0137 14.6557V11.712C16.0137 10.062 17.3461 8.72876 18.9659 8.72876C20.5857 8.72876 21.9051 10.0488 21.9181 11.6856V11.712C21.9051 13.3489 20.5857 14.6689 18.9659 14.6689ZM17.8817 12.7549H18.9659C19.5537 12.7549 20.024 12.2796 20.0371 11.6856C20.024 11.0916 19.5537 10.6164 18.9659 10.6164C18.3781 10.6164 17.8947 11.1048 17.8947 11.6988V12.7549H17.8817Z"
				fill="white"
			/>
			<path
				d="M16.9423 22.272C16.4198 22.272 16.0018 21.8496 16.0018 21.3216V14.6687H6.08702C5.5645 14.6687 5.14648 14.2463 5.14648 13.7182C5.14648 13.1902 5.5645 12.7678 6.08702 12.7678H17.8829V21.3216C17.8829 21.8496 17.4648 22.272 16.9423 22.272Z"
				fill="white"
			/>
			<path
				d="M25.8507 11.8307C25.3282 11.8307 24.9102 11.4083 24.9102 10.8803V0.518066H36.7844C37.3069 0.518066 37.7249 0.940476 37.7249 1.46849C37.7249 1.9965 37.3069 2.41891 36.7844 2.41891H26.7912V10.8671C26.7912 11.3951 26.3732 11.8307 25.8507 11.8307Z"
				fill="white"
			/>
			<path
				d="M33.1924 21.2558H22.4024C21.8799 21.2558 21.4619 20.8334 21.4619 20.3054C21.4619 19.7774 21.8799 19.3549 22.4024 19.3549H33.1924C35.2433 19.3549 36.9154 17.6653 36.9154 15.5929C36.9154 13.5204 35.2433 11.8308 33.1924 11.8308H25.9164C25.3939 11.8308 24.9758 11.4084 24.9758 10.8804C24.9758 10.3523 25.3939 9.92993 25.9164 9.92993H33.1924C36.2884 9.92993 38.7964 12.4776 38.7964 15.5929C38.7964 18.7081 36.2884 21.2558 33.1924 21.2558Z"
				fill="white"
			/>
			<path
				d="M46.7253 16.6225C46.4901 16.6225 46.2419 16.5301 46.059 16.3453L40.3505 10.5767C39.1879 9.40192 38.5479 7.84428 38.5479 6.19424C38.5479 4.531 39.1879 2.97337 40.3505 1.81174C42.7411 -0.603914 46.6338 -0.603914 49.0374 1.81174L51.8721 4.67621C52.2378 5.04582 52.2378 5.65303 51.8721 6.02264C51.5063 6.39225 50.9054 6.39225 50.5396 6.02264L47.705 3.15817C46.046 1.48173 43.342 1.48173 41.683 3.15817C40.8731 3.97659 40.442 5.04582 40.442 6.19424C40.442 7.34267 40.8861 8.4251 41.683 9.23031L47.3915 14.9988C47.7572 15.3685 47.7572 15.9757 47.3915 16.3453C47.1955 16.5301 46.9604 16.6225 46.7253 16.6225Z"
				fill="white"
			/>
			<path
				d="M53.6612 21.4671C52.0936 21.4671 50.513 20.8599 49.3243 19.6587L44.6347 14.9065C44.2689 14.5369 44.2689 13.9297 44.6347 13.5601C45.0004 13.1905 45.6013 13.1905 45.9671 13.5601L50.6567 18.299C52.3157 19.9755 55.0197 19.9755 56.6787 18.299C58.3377 16.6226 58.3377 13.8901 56.6787 12.2137L49.0761 4.53111C48.7103 4.1615 48.7103 3.55429 49.0761 3.18468C49.4418 2.81507 50.0427 2.81507 50.4085 3.18468L58.0111 10.8673C60.4017 13.2829 60.4017 17.2166 58.0111 19.6455C56.8093 20.8599 55.2418 21.4671 53.6612 21.4671Z"
				fill="white"
			/>
		</svg>

		<nav class="footer-navigation">
			<ul>
				<li v-for="item in links" :key="item.key">
					<nuxt-link :href="item.link" target="_blank" @click="reachGoal(item.key, {})">
						{{ item.title }}
						<span v-if="item.badge">{{ item.badge }}</span>
					</nuxt-link>
				</li>
			</ul>
		</nav>
		<button class="footer-up" type="button" @click="up">
			<span>Наверх</span>
			<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path
					d="M11 19L11 20L13 20L13 19L11 19ZM13 5C13 4.44771 12.5523 4 12 4C11.4477 4 11 4.44771 11 5L13 5ZM13 19L13 5L11 5L11 19L13 19Z"
					fill="white"
				/>
				<path
					d="M17.2929 11.7071L18 12.4142L19.4142 11L18.7071 10.2929L17.2929 11.7071ZM12.7071 4.29289C12.3166 3.90237 11.6834 3.90237 11.2929 4.29289C10.9024 4.68342 10.9024 5.31658 11.2929 5.70711L12.7071 4.29289ZM18.7071 10.2929L12.7071 4.29289L11.2929 5.70711L17.2929 11.7071L18.7071 10.2929Z"
					fill="white"
				/>
				<path
					d="M5.29289 10.2929L4.58579 11L6 12.4142L6.70711 11.7071L5.29289 10.2929ZM12.7071 5.70711C13.0976 5.31658 13.0976 4.68342 12.7071 4.29289C12.3166 3.90237 11.6834 3.90237 11.2929 4.29289L12.7071 5.70711ZM6.70711 11.7071L12.7071 5.70711L11.2929 4.29289L5.29289 10.2929L6.70711 11.7071Z"
					fill="white"
				/>
			</svg>
		</button>
	</footer>
</template>

<style scoped lang="scss">
@use 'assets/style/utility';
@use 'assets/style/breakpoints';

.footer {
	--focus-visible: var(--yellow);

	z-index: 1;
	display: flex;
	justify-content: space-between;
	align-items: center;
	height: #{utility.rem(96)};
	margin-top: #{utility.rem(-96 - 16)};
	padding: #{utility.rem(16)};
	border: 1px solid rgb(255 255 255 / 16%);
	border-radius: #{utility.rem(1000)};
	background: rgb(255 255 255 / 8%);
	backdrop-filter: blur(20px);

	& &-logo {
		display: block;
		width: #{utility.rem(64.62)};
		height: #{utility.rem(44)};
		margin: #{utility.rem(10)} #{utility.rem(22)};
	}

	& &-navigation {
		ul {
			display: flex;
			gap: #{utility.rem(38)};
			align-items: center;
			margin: 0;
			padding: 0;
			list-style: none;

			li {
				a {
					display: flex;
					gap: #{utility.rem(8)};
					align-items: center;
					color: #fff;
					font-weight: 500;
					font-style: normal;
					font-size: #{utility.rem(32)};
					line-height: 115%; /* 36.8px */
					letter-spacing: #{utility.rem(-1.6)};
					text-decoration: none;
					transition: color 200ms ease-in-out;

					span {
						display: inline-flex;
						gap: #{utility.rem(12)};
						align-items: center;
						padding: #{utility.rem(8)} #{utility.rem(12)};
						border-radius: #{utility.rem(1000)};
						background-color: #fff;
						color: var(--green);
						font-weight: 600;
						font-style: normal;
						font-size: #{utility.rem(16)};
						line-height: 115%; /* 18.4px */
						letter-spacing: #{utility.rem(-0.8)};
						transition: background-color 200ms ease-in-out;
					}

					@include utility.has-hover {
						color: #1d2939;

						span {
							background: #1d2939;
						}
					}
				}
			}
		}
	}

	& &-up {
		display: flex;
		gap: 8px;
		align-items: center;
		padding: #{utility.rem(16)} #{utility.rem(20)} #{utility.rem(16)} #{utility.rem(24)};
		border: none;
		border-radius: #{utility.rem(1000)};
		background: transparent;
		color: #fff;
		font-weight: 500;
		font-style: normal;
		font-size: #{utility.rem(24)};
		line-height: 135%; /* 32.4px */
		letter-spacing: #{utility.rem(-0.72)};
		cursor: pointer;
		transition: background-color 200ms ease-in-out;

		svg {
			width: #{utility.rem(24)};
			height: #{utility.rem(24)};
		}

		@include utility.has-hover {
			background: #1d2939;
		}
	}

	@include breakpoints.media-down('xl') {
		display: flex;
		flex-wrap: wrap;
		gap: #{utility.rem(24)};
		align-content: space-between;
		height: #{utility.rem(170)};
		margin-top: #{utility.rem(-170 - 16)};
		border-radius: #{utility.rem(12)};

		& &-logo {
			height: #{utility.rem(44)};
			margin: 0;
		}

		& &-navigation {
			flex: 1 1 100%;
			order: 99;

			ul {
				display: grid;
				gap: #{utility.rem(16)};

				li {
					a {
						gap: #{utility.rem(8)};
						font-size: #{utility.rem(20)};
						letter-spacing: #{utility.rem(-1)};

						span {
							font-weight: 600;
							font-style: normal;
							font-size: #{utility.rem(12)};
							line-height: 115%; /* 13.8px */
							letter-spacing: #{utility.rem(-0.6)};
						}
					}
				}
			}
		}

		div:empty {
			display: none;
		}

		& &-up {
			gap: 0;
			justify-content: center;
			align-items: center;
			order: 1;
			width: #{utility.rem(44)};
			height: #{utility.rem(44)};
			padding: 0;

			span {
				@include utility.sr-only;
			}
		}
	}
}
</style>
